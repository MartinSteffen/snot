
\section{Abstrakte Syntax}
\label{sec:AbstrakteSyntax}

Folgende \emph{erweiterte BNF}-Notation faßt die \emph{abstrakte Syntax}
als gemeinsame Zwischenrepresentierung zusammen. Abgesehen von einigen
Namenkonventionen (Großschreibgung) ist die Umsetzung in \Java{} trivial.
Jeder nichtterminale Eintrag wird ein \emph{Klasse.} Alternativen,
gekennzeichnet durch $\bnfbar$, sind Unterklassen der\emph{abstrakten
  Klasse,} deren Unterfälle sie bilden. Die Einträge der mittlere Spalte
wird als \emph{Felder} der Klassen repräsentiert. Die Konstruktoren sind,
bis auf die Reihenfolge der Argument, durch die Felder der Klasse
festgelegt.\footnote{Es gibt Ausnahmen von der letzten Regel, n"amlich f"ur
  die (\Siff-)Typen in den Ausdr"ucken. Die Typen sind nicht mit in die
  Konstrutoren mit aufgenommen. Die entsprechenden Felder werden
  nachtr"aglich eingetragen.}


\medskip

\begin{tabular}{rclcl}
  program & \bnfdef & 
  chans &\of & chandec list
  \\
  & &
  procs
  & \of &
  process list
  \\
  process & \bnfdef &
  vars & \of & vardec list 
  \\
  & &
  steps & \of & transition list
  \\
  & &
  states & \of & astate list
  \\
  & &
  init & \of & initstate
  \\
  transition & \bnfdef &
  source & \of & astate
  \\
  & &
  target & \of & astate
  \\
  & &
  lab & \of &   label
  \\
  label & \bnfdef &
  guard & \of & expr
  \\
  & &
  act & \of & action
  \\
  action
  & \bnfdef &
  & &
  tau
  \\
  & \bnfbar &
  & & input\_action
  \\
  & \bnfbar &
  & & output\_action
  \\
  & \bnfbar &
  & &
  assign\_action
  \\
  astate
  & \bnfdef &
  & &
  initstate
  \\
  &\bnfbar & 
  &  &
  state
  \\
  state & \bnfdef & 
  name &\of & string
  \\
  & & 
  assert & \of &  expr
  \\
  & & 
  pos & \of &  position
  \\
  initstate
  & \bnfdef  & 
  name &\of & string
  \\
  & & 
  assert & \of &  expr
  \\
  & & 
  pos & \of &  position
  \\
  expr & \bnfdef &
  & &
  b\_expr
  \\
  & \bnfbar & 
  & &
  u\_expr
  \\
  & \bnfbar &
  & &
  constval
  \\
  & \bnfbar &
  & &
  variable
  \\
  b\_expr
  & \bnfdef &
  left\_expr & \of & expr 
  \\
  & &
  right\_expr & \of & expr
  \\
  & & op
  & \of & operand
  \\
  & & type 
  & \of & m\_atom\_type
  \\
  u\_expr
  & \bnfdef &
  sub\_expr & \of & expr 
  \\
  & & op & \of & operand
  \\
  & & type 
  & \of & m\_atom\_type
  \\
  operand
  & \bnfdef &
  PLUS 
  \bnfbar
  MINUS
  \bnfbar
  TIMES
  \bnfbar
  DIV
  & &
  \textit{(Operand als Konstanten in \textnormal{expr})}
  \\
  & \bnfbar &
  AND
  \bnfbar
  OR
  \bnfbar
  NEG
  \\
  & \bnfbar &
  LESS \bnfbar GREATER \bnfbar LEQ \bnfbar GEQ
  \\
  input\_action
  & \bnfdef &
  chan &\of & channel
  \\
  & &
  var & \of & variable
  \\
  output\_action
  & \bnfdef &
  chan &\of & channel
  \\
  & & 
  val  & \of & expr
  \\
  assign\_action
  & \bnfdef &
  var
  &\of &
  variable
  \\
  & \bnfbar &
  val
  &\of &
  expr
  \\
  vardec &\bnfdef &
  var  & \of & variable
  \\
  & & val  & \of & constval
  \\
  & & type & \of & m\_atom\_type
  \\
  chandec & \bnfdef & chan & \of & channel
  \\
  & & type & \of & m\_chan
  \\
  variable & \bnfdef & name & \of & string
  \\
  & & type & \of & m\_atom\_type
  
  \\
  channel  & \bnfdef & name & \of & string
  \\
  & & type & \of & m\_chan
  \\
  constval & \bnfdef 
  & val& \of  & \textit{Object}
  \\
  & & type & \of & m\_atom\_type
  \\
  m\_type & \bnfdef  & & & m\_atom\_type
  \\
  & \bnfbar  & & &
  m\_chan
  \\
  m\_atom\_type
  & \bnfdef & & &
  m\_int
  \\
  & \bnfbar & & &
  m\_bool
  \\
  position & \bnfdef & x & \of & float
  \\
  &  & y & \of & float
\end{tabular}


\subsubsection*{Neu in Version 5}

Neu is die Hinzunahme von \emph{Typen}.  Im Wesentlichen sind dies:
\begin{itemize}
\item integer und
\item boolean, und dazu noch ein Typ 
\item \texttt{chan} für Kanäle.
\end{itemize}






Um nicht mit den Standardklassen von Java ins Gehege zu kommen, besitzen in
der Implementierung die Namen der Klassen ein \texttt{M\_} für \Siff{} als
Präfix. Der Typ für Kanäle ist gedacht für die Deklaration von
Kanälen, eine \texttt{Chan Bool} kann nur boolesche Werte übertragen,
entsprechend für ganze Zahlen.


Es wurde weiterhin folgende Einschränkung vereinbart: \emph{Deklarationen}
sind grundsätzlich mit \emph{Angabe des Typs.}

Betroffen von der Erweiterung sind die \emph{Ausdrücke,} (\texttt{expr}
und ihre Unterklassen) die nun typisiert sind. Daneben die
\emph{Deklaration} für Variablen und für Kanäle.

Bemerkung: Es wurde festgelegt, daß Deklarationen grundsätzlich typisiert
sein sollen, um die Aufgabe der Modelchecker und der Simulatorgruppe zu
vereinfachen.



\subsubsection*{Neu in Version 3}



Neu sind die \emph{Positionen} (momentan $x$- und
$y$-Koordinate, die der graphischen Platzierung der Zustände dienen. Weiter
hat sich die Syntax der \textit{Prozesse} geändert: es werden Transitionen
und Zustände gespeichert, wobei der \emph{initiale} Zustand \emph{extra}
gespeichert ist. D.h., der initiale Zustand ist \emph{ebenfalls} in der
Liste aller Zustände enthalten.


%%% Local Variables: 
%%% mode: latex
%%% TeX-master: "main"
%%% End: 
